<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KARIM TREIZE 13</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0b0b0f; --card: #16161f; --accent: #f97316; --text: #ffffff; --border: #2a2a35; --success: #10b981; }
        * { margin:0; padding:0; box-sizing:border-box; font-family: 'Tajawal', sans-serif; }
        body { background: var(--bg); color: var(--text); padding-bottom: 20px; }
        body.ar { direction: rtl; text-align: right; }

        /* Header & Icons */
        .header { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: #000; border-bottom: 1px solid var(--border); position: sticky; top:0; z-index: 1000; }
        .logo { font-weight: 900; font-size: 18px; text-transform: uppercase; }
        .logo span { color: var(--accent); }
        .nav-tools { display: flex; gap: 8px; }
        .tool-btn { width: 38px; height: 38px; background: var(--card); border: 1px solid var(--border); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: var(--accent); cursor: pointer; }

        /* Wallet Card (NEW: Top Position) */
        .wallet-card { margin: 15px; background: linear-gradient(145deg, #1a1a24, #000); padding: 15px; border-radius: 20px; border: 1px solid var(--accent); }
        .wallet-title { font-size: 12px; color: var(--accent); margin-bottom: 10px; text-align: center; font-weight: 900; }
        .wallet-item { display: flex; justify-content: space-between; align-items: center; background: #000; padding: 10px; border-radius: 12px; margin-bottom: 8px; border: 1px solid #222; }
        .wallet-item span { font-size: 12px; font-family: monospace; }
        .copy-mini { background: var(--accent); color: #000; border: none; padding: 4px 8px; border-radius: 5px; font-size: 10px; font-weight: bold; cursor: pointer; }

        /* Stats Section */
        .stats { display: flex; justify-content: space-around; margin: 0 15px 15px; }
        .stat-box { background: var(--card); padding: 10px; border-radius: 15px; text-align: center; flex: 1; margin: 0 5px; border: 1px solid var(--border); }
        .stat-v { display: block; font-size: 16px; font-weight: 900; color: var(--accent); }
        .stat-l { font-size: 9px; color: #666; }

        /* Category Grid */
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; padding: 0 15px; }
        .cat-btn { background: var(--card); border-radius: 15px; padding: 15px 5px; text-align: center; cursor: pointer; border: 1px solid var(--border); }
        .cat-btn.active { border-color: var(--accent); background: rgba(249,115,22,0.1); }
        .cat-btn i { font-size: 24px; margin-bottom: 8px; display: block; }
        .cat-btn span { font-size: 10px; font-weight: bold; }

        /* Order Form (Ladder Style) */
        .order-panel { margin: 15px; background: var(--card); padding: 20px; border-radius: 20px; border: 1px solid var(--border); display: none; }
        .order-panel.active { display: block; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { opacity:0; transform: translateY(10px); } to { opacity:1; transform: translateY(0); } }

        label { display: block; font-size: 11px; color: #888; margin-bottom: 6px; margin-left: 5px; }
        select, input { width: 100%; padding: 14px; background: #000; border: 1px solid var(--border); border-radius: 12px; color: #fff; margin-bottom: 15px; outline: none; }
        
        .total-price { font-size: 28px; font-weight: 900; color: var(--success); text-align: center; margin-bottom: 15px; }
        .btn-confirm { width: 100%; padding: 18px; background: var(--accent); border: none; border-radius: 15px; color: #000; font-weight: 900; font-size: 15px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; }

        /* Custom Alert */
        .custom-alert { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: var(--accent); color: #000; padding: 12px 20px; border-radius: 10px; font-weight: bold; z-index: 3000; display: none; box-shadow: 0 5px 15px rgba(0,0,0,0.5); font-size: 13px; text-align: center; }

        /* History Modal */
        .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 2000; }
        .modal-content { background: var(--card); width: 92%; max-width: 400px; padding: 20px; border-radius: 20px; border: 1px solid var(--border); }
        .history-item { background: #000; padding: 12px; border-radius: 10px; margin-bottom: 8px; border-right: 4px solid var(--accent); }
    </style>
</head>
<body class="fr">

<div class="custom-alert" id="alertBox"></div>

<div class="header">
    <div class="logo">KARIM<span>TREIZE13</span> üç¨</div>
    <div class="nav-tools">
        <div class="tool-btn" onclick="showHistory()"><i class="fas fa-history"></i></div>
        <div class="tool-btn" onclick="toggleLang()"><i class="fas fa-language"></i></div>
        <div class="tool-btn" onclick="window.open('https://t.me/+213656251947')"><i class="fab fa-telegram-plane"></i></div>
    </div>
</div>

<div class="wallet-card">
    <div class="wallet-title" data-fr="COORDONN√âES DE PAIEMENT" data-ar="ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿØŸÅÿπ">COORDONN√âES DE PAIEMENT</div>
    <div class="wallet-item">
        <span>BaridiMob: <b>007999...7315</b></span>
        <button class="copy-mini" onclick="copy('00799999001465107315')">COPY</button>
    </div>
    <div class="wallet-item">
        <span>Binance Pay: <b>1194939141</b></span>
        <button class="copy-mini" onclick="copy('1194939141')">COPY</button>
    </div>
</div>

<div class="stats">
    <div class="stat-box"><span class="stat-v">1,842</span><span class="stat-l">Online</span></div>
    <div class="stat-box"><span class="stat-v">32.5K</span><span class="stat-l">Orders</span></div>
    <div class="stat-box"><span class="stat-v">99.9%</span><span class="stat-l">Fiabilit√©</span></div>
</div>

<div class="grid">
    <div class="cat-btn" id="cat-TikTok" onclick="activateCat('TikTok')"><i class="fab fa-tiktok" style="color:#ff0050"></i><span>TikTok</span></div>
    <div class="cat-btn" id="cat-Facebook" onclick="activateCat('Facebook')"><i class="fab fa-facebook" style="color:#1877f2"></i><span>Facebook</span></div>
    <div class="cat-btn" id="cat-Instagram" onclick="activateCat('Instagram')"><i class="fab fa-instagram" style="color:#e1306c"></i><span>Insta</span></div>
    <div class="cat-btn" id="cat-YouTube" onclick="activateCat('YouTube')"><i class="fab fa-youtube" style="color:red"></i><span>YouTube</span></div>
    <div class="cat-btn" id="cat-Telegram" onclick="activateCat('Telegram')"><i class="fab fa-telegram" style="color:#0088cc"></i><span>Telegram</span></div>
    <div class="cat-btn" id="cat-Snapchat" onclick="activateCat('Snapchat')"><i class="fab fa-snapchat" style="color:#fffc00"></i><span>Snapchat</span></div>
    <div class="cat-btn" id="cat-Premium" onclick="activateCat('Premium')"><i class="fas fa-gem" style="color:#a855f7"></i><span>Premium</span></div>
    <div class="cat-btn" id="cat-Gaming" onclick="activateCat('Gaming')"><i class="fas fa-gamepad" style="color:#22c55e"></i><span>Gaming</span></div>
</div>

<div class="order-panel" id="orderPanel">
    <label data-fr="SERVICE" data-ar="ÿßŸÑÿÆÿØŸÖÿ©">SERVICE</label>
    <select id="serviceMenu" onchange="updateSrv()"></select>

    <label data-fr="LIEN" data-ar="ÿßŸÑÿ±ÿßÿ®ÿ∑">LIEN</label>
    <input type="url" id="srvLink" placeholder="https://...">

    <div id="qtySection">
        <label data-fr="QUANTIT√â" data-ar="ÿßŸÑŸÉŸÖŸäÿ©">QUANTIT√â</label>
        <input type="number" id="srvQty" value="1000" oninput="recalc()">
    </div>

    <label data-fr="PAIEMENT" data-ar="Ÿàÿ≥ŸäŸÑÿ© ÿßŸÑÿØŸÅÿπ">PAIEMENT</label>
    <select id="srvPay">
        <option value="BaridiMob">BaridiMob</option>
        <option value="RedotPay">RedotPay</option>
        <option value="Binance">Binance Pay</option>
        <option value="Flexy">Flexy</option>
    </select>

    <div class="total-price" id="displayTotal">$0.00</div>
    <button class="btn-confirm" onclick="processOrder()">
        <i class="fab fa-whatsapp"></i> <span data-fr="CONFIRMER & PAYER" data-ar="ÿ™ÿ£ŸÉŸäÿØ Ÿà ÿØŸÅÿπ">CONFIRMER & PAYER</span>
    </button>
</div>

<div id="histModal" class="modal">
    <div class="modal-content">
        <h3 style="text-align:center; margin-bottom:15px; color:var(--accent)">HISTORIQUE</h3>
        <div id="histList" style="max-height:300px; overflow-y:auto;"></div>
        <button onclick="closeHist()" style="width:100%; padding:12px; margin-top:10px; background:#333; color:#fff; border:none; border-radius:10px;">Close</button>
    </div>
</div>

<script>
    const SERVICES = [
        {id: 1, cat: "TikTok", n_fr: "üë§ Followers | HQ", n_ar: "üë§ ŸÖÿ™ÿßÿ®ÿπŸäŸÜ | ÿ¨ŸàÿØÿ© ÿπÿßŸÑŸäÿ©", p: 1.10},
        {id: 2, cat: "TikTok", n_fr: "‚ù§Ô∏è Likes | Instant", n_ar: "‚ù§Ô∏è ÿ•ÿπÿ¨ÿßÿ®ÿßÿ™ | ŸÅŸàÿ±Ÿä", p: 0.05},
        {id: 3, cat: "Facebook", n_fr: "üë§ Followers | Lifetime", n_ar: "üë§ ŸÖÿ™ÿßÿ®ÿπŸäŸÜ | ÿ∂ŸÖÿßŸÜ ŸÖÿØŸâ ÿßŸÑÿ≠Ÿäÿßÿ©", p: 0.47},
        {id: 4, cat: "Premium", n_fr: "üé¨ Netflix | 1 Month", n_ar: "üé¨ ŸÜÿ™ŸÅŸÑŸäŸÉÿ≥ | ÿ¥Ÿáÿ±", p: 4.50, fixed: true},
        {id: 5, cat: "Gaming", n_fr: "üéÆ PUBG 60 UC", n_ar: "üéÆ ÿ®ÿ®ÿ¨Ÿä 60 ÿ¥ÿØÿ©", p: 1.50, fixed: true}
    ];

    let currentL = 'fr';
    let activeSrv = null;

    function toggleLang() {
        currentL = currentL === 'fr' ? 'ar' : 'fr';
        document.body.className = currentL;
        document.querySelectorAll('[data-fr]').forEach(el => el.innerText = el.getAttribute('data-' + currentL));
    }

    function activateCat(cat) {
        document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('cat-'+cat).classList.add('active');
        const menu = document.getElementById('serviceMenu');
        menu.innerHTML = '<option value="">---</option>';
        SERVICES.filter(s => s.cat === cat).forEach(s => {
            menu.innerHTML += `<option value="${s.id}">${currentL==='fr'?s.n_fr:s.n_ar}</option>`;
        });
        document.getElementById('orderPanel').classList.add('active');
    }

    function updateSrv() {
        const id = document.getElementById('serviceMenu').value;
        activeSrv = SERVICES.find(s => s.id == id);
        if(activeSrv) {
            document.getElementById('qtySection').style.display = activeSrv.fixed ? 'none' : 'block';
            document.getElementById('srvQty').value = activeSrv.fixed ? 1 : 1000;
            recalc();
        }
    }

    function recalc() {
        if(!activeSrv) return;
        const q = document.getElementById('srvQty').value || 1;
        const total = activeSrv.fixed ? (activeSrv.p * q) : (activeSrv.p * q / 1000);
        document.getElementById('displayTotal').innerText = "$" + total.toFixed(3);
    }

    function copy(txt) {
        navigator.clipboard.writeText(txt);
        showAlert(currentL==='fr'?"Copi√©! ‚úÖ":"ÿ™ŸÖ ÿßŸÑŸÜÿ≥ÿÆ! ‚úÖ");
    }

    function showAlert(msg) {
        const b = document.getElementById('alertBox');
        b.innerText = msg; b.style.display = 'block';
        setTimeout(() => b.style.display = 'none', 3000);
    }

    function processOrder() {
        const link = document.getElementById('srvLink').value;
        const pay = document.getElementById('srvPay').value;
        if(!link || !activeSrv) return showAlert(currentL==='fr'?"Lien manquant!":"ÿßŸÑÿ±ÿßÿ®ÿ∑ ŸÖÿ∑ŸÑŸàÿ®!");

        // 1. Show Payment Alert
        showAlert(currentL==='fr' ? "Utilisez les num√©ros en haut pour payer! ‚¨ÜÔ∏è" : "ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑÿØŸÅÿπ ÿßŸÑŸÖŸàÿ¨ŸàÿØÿ© ŸÅŸä ÿßŸÑÿ£ÿπŸÑŸâ! ‚¨ÜÔ∏è");

        // 2. Save to History
        const id = Math.floor(Math.random()*900000);
        const order = { id, srv: activeSrv.n_fr, status: "En attente", date: new Date().toLocaleString() };
        let h = JSON.parse(localStorage.getItem('k_orders') || '[]');
        h.push(order); localStorage.setItem('k_orders', JSON.stringify(h));

        // 3. WhatsApp Redirect after delay
        setTimeout(() => {
            const msg = `*COMMANDE - KARIM13*%0AID: #${id}%0ASrv: ${order.srv}%0ALink: ${link}%0APay: ${pay}%0APrice: ${document.getElementById('displayTotal').innerText}`;
            window.open(`https://wa.me/213656251947?text=${msg}`);
        }, 2000);
    }

    function showHistory() {
        const h = JSON.parse(localStorage.getItem('k_orders') || '[]').reverse();
        document.getElementById('histList').innerHTML = h.map(o => `
            <div class="history-item">
                <div style="display:flex;justify-content:space-between"><b>#${o.id}</b> <span>${o.status}</span></div>
                <div style="font-size:11px;margin-top:5px">${o.srv}</div>
            </div>
        `).join('') || "No orders";
        document.getElementById('histModal').style.display = 'flex';
    }

    function closeHist() { document.getElementById('histModal').style.display = 'none'; }
</script>
</body>
</html>
