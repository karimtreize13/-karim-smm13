<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KARIM13 | SMM PRO</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --bg: #0a0a15;
      --card: #111827;
      --accent: #10b981;
      --gold: #f59e0b;
      --orange: #f97316;
      --text: #e2e8f0;
      --gray: #1e293b;
      --border: #334155;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      background: #0a0a15;
      font-family: 'Tajawal', sans-serif;
      color: var(--text);
      min-height: 100vh;
    }
    body.fr { direction: ltr; text-align: left; }

    .header {
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(17,24,39,0.9);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .lang-box button {
      background: var(--gray);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      font-weight: bold;
      font-size: 13px;
      cursor: pointer;
      margin-right: 6px;
    }
    .lang-box button.active { background: var(--orange); color: white; }

    .telegram-icon {
      font-size: 26px;
      color: #0088cc;
      cursor: pointer;
    }

    .stats-bar {
      display: flex;
      justify-content: space-around;
      background: rgba(249,115,22,0.1);
      padding: 12px 0;
      margin: 12px 16px;
      border-radius: 12px;
      border: 1px solid var(--orange);
    }
    .stat-item { text-align: center; }
    .stat-number {
      font-size: 22px;
      font-weight: 900;
      color: var(--gold);
    }
    .stat-label { font-size: 11px; color: #94a3b8; }

    .categories {
      padding: 0 16px 20px;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }
    .cat-item {
      background: var(--card);
      border-radius: 12px;
      padding: 12px 6px;
      text-align: center;
      cursor: pointer;
      border: 1px solid var(--border);
      transition: all 0.25s;
    }
    .cat-item.active {
      background: var(--orange);
      border: none;
      transform: scale(1.05);
    }
    .cat-item i { font-size: 28px; margin-bottom: 6px; }
    .cat-item span { font-size: 11px; font-weight: bold; display: block; }

    .order-section {
      margin: 0 16px 30px;
      background: var(--card);
      border-radius: 16px;
      padding: 20px;
      border: 1px solid var(--border);
    }
    .order-section select {
      width: 100%;
      padding: 14px;
      margin-bottom: 14px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #0f172a;
      color: white;
      font-size: 15px;
    }
    .order-section input {
      width: 100%;
      padding: 14px;
      margin-bottom: 14px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: #0f172a;
      color: white;
      font-size: 15px;
    }
    .total-price {
      background: rgba(16,185,129,0.12);
      border: 2px dashed var(--accent);
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      font-size: 22px;
      font-weight: 900;
      color: var(--accent);
      margin: 16px 0;
    }
    .btn-order {
      background: linear-gradient(90deg, #10b981, #059669);
      color: white;
      border: none;
      width: 100%;
      padding: 16px;
      border-radius: 12px;
      font-size: 17px;
      font-weight: bold;
      cursor: pointer;
    }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.92);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 16px;
    }
    .modal-content {
      background: var(--card);
      width: 100%;
      max-width: 380px;
      border-radius: 16px;
      padding: 20px;
      position: relative;
      max-height: 85vh;
      overflow-y: auto;
    }
    .close-btn {
      position: absolute;
      top: 12px;
      right: 16px;
      font-size: 22px;
      color: #ef4444;
      cursor: pointer;
    }

    .pay-box {
      background: #0f172a;
      padding: 14px;
      border-radius: 10px;
      margin-bottom: 12px;
      border: 1px solid var(--border);
      font-size: 14px;
    }
    .copy-btn {
      background: var(--orange);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      float: right;
    }

    .history-item {
      background: #0f172a;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 10px;
      border-left: 4px solid var(--accent);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .whatsapp-btn {
      color: #25D366;
      font-size: 26px;
      cursor: pointer;
    }

    @media (max-width: 500px) {
      .categories { gap: 10px; padding: 12px; grid-template-columns: repeat(4, 1fr); }
      .cat-item { padding: 12px 4px; }
      .cat-item i { font-size: 26px; }
      .cat-item span { font-size: 10px; }
    }
  </style>
</head>
<body class="ar">

  <div class="header">
    <div class="lang-box">
      <button id="btnAr" class="active" onclick="setLanguage('ar')">AR</button>
      <button id="btnFr" onclick="setLanguage('fr')">FR</button>
    </div>
    <div class="logo">KARIM<span>13</span></div>
    <a href="https://t.me/ÿ±ÿßÿ®ÿ∑_ÿ™ŸÑŸäÿ¨ÿ±ÿßŸÖ_ÿßŸÑÿÆÿßÿµ_ÿ®ŸÉ" target="_blank" class="telegram-icon">
      <i class="fab fa-telegram-plane"></i>
    </a>
  </div>

  <div class="stats-bar">
    <div class="stat-item">
      <div class="stat-number">90+</div>
      <div class="stat-label">Services</div>
    </div>
    <div class="stat-item">
      <div class="stat-number">2.9K+</div>
      <div class="stat-label">Clients</div>
    </div>
    <div class="stat-item">
      <div class="stat-number" id="onlineCount">5</div>
      <div class="stat-label">En ligne</div>
    </div>
  </div>

  <div class="categories">
    <div class="cat-item active" data-cat="TikTok" onclick="setCategory('TikTok', this)"><i class="fab fa-tiktok" style="color:#ff0050"></i><span>TikTok</span></div>
    <div class="cat-item" data-cat="Facebook" onclick="setCategory('Facebook', this)"><i class="fab fa-facebook" style="color:#1877f2"></i><span>Facebook</span></div>
    <div class="cat-item" data-cat="Instagram" onclick="setCategory('Instagram', this)"><i class="fab fa-instagram" style="color:#e1306c"></i><span>Instagram</span></div>
    <div class="cat-item" data-cat="YouTube" onclick="setCategory('YouTube', this)"><i class="fab fa-youtube" style="color:#ff0000"></i><span>YouTube</span></div>
    <div class="cat-item" data-cat="Telegram" onclick="setCategory('Telegram', this)"><i class="fab fa-telegram" style="color:#0088cc"></i><span>Telegram</span></div>
    <div class="cat-item" data-cat="Snapchat" onclick="setCategory('Snapchat', this)"><i class="fab fa-snapchat-ghost" style="color:#fffc00"></i><span>Snapchat</span></div>
    <div class="cat-item" data-cat="Premium" onclick="setCategory('Premium', this)"><i class="fas fa-gem" style="color:#a855f7"></i><span>Premium</span></div>
    <div class="cat-item" data-cat="Gaming" onclick="setCategory('Gaming', this)"><i class="fas fa-gamepad" style="color:#22c55e"></i><span>Gaming</span></div>
  </div>

  <div class="order-section">
    <select id="serviceSelect" onchange="calculatePrice()"></select>
    <input type="text" id="linkInput" placeholder="Lien / ÿßŸÑÿ±ÿßÿ®ÿ∑"/>
    <input type="number" id="quantityInput" value="1000" min="100" onchange="calculatePrice()"/>
    <div class="total-price" id="totalDisplay">Total: $0.000 / ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: $0.000</div>
    <button class="btn-order" onclick="placeOrder()">COMMANDER / ÿ™ŸÜŸÅŸäÿ∞ ÿßŸÑÿ∑ŸÑÿ®</button>
  </div>

  <!-- ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿØŸÅÿπ -->
  <div class="modal" id="paymentModal">
    <div class="modal-content">
      <i class="fas fa-times close-btn" onclick="closeModals()"></i>
      <h2 style="text-align:center; margin-bottom:20px;">Paiement / ÿßŸÑÿØŸÅÿπ</h2>

      <div class="pay-box">
        <b>BaridiMob</b><br>0079999990001465107315
        <button class="copy-btn" onclick="copyToClipboard('0079999990001465107315')">COPY</button>
      </div>

      <div class="pay-box">
        <b>Binance ID</b><br>1194939141
        <button class="copy-btn" onclick="copyToClipboard('1194939141')">COPY</button>
      </div>

      <div class="pay-box">
        <b>Flexy (Mobilis)</b><br>0656251947
        <button class="copy-btn" onclick="copyToClipboard('0656251947')">COPY</button>
      </div>

      <button onclick="closeModals()" style="width:100%; padding:14px; background:#334155; color:white; border:none; border-radius:10px; margin-top:16px;">Fermer / ÿ•ÿ∫ŸÑÿßŸÇ</button>
    </div>
  </div>

  <!-- ÿßŸÑÿ≥ÿ¨ŸÑ -->
  <div class="modal" id="historyModal">
    <div class="modal-content">
      <i class="fas fa-times close-btn" onclick="closeModals()"></i>
      <h2 style="text-align:center; margin-bottom:20px;">Historique / ÿßŸÑÿ≥ÿ¨ŸÑ</h2>
      <div id="historyContent"></div>
    </div>
  </div>

  <script>
    const SERVICES = [
      { id: 9999, cat: "TikTok", n: "TikTok Coins - 1000 Pi√®ces", n_ar: "ÿ¥ÿ≠ŸÜ ÿπŸÖŸÑÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ - 1000 ÿπŸÖŸÑÿ©", p: 13.00 },
      {id: 3231, cat: "TikTok", n: "TikTok Followers | HQ Real | 2K/Day", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ | ÿ≠ŸÇŸäŸÇŸä (2000 ŸäŸàŸÖŸäÿßŸã) üõ°Ô∏è", p: 1.10},
      {id: 3338, cat: "TikTok", n: "TikTok Followers | HQ Real", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ¨ŸàÿØÿ© ÿπÿßŸÑŸäÿ© | ÿ∂ŸÖÿßŸÜ ŸÖÿØŸâ ÿßŸÑÿ≠Ÿäÿßÿ© ‚ôªÔ∏è", p: 0.95},
      {id: 3340, cat: "TikTok", n: "TikTok Followers | Perfect Quality", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ¨ŸàÿØÿ© ŸÖÿ´ÿßŸÑŸäÿ© | ÿ∂ŸÖÿßŸÜ ŸÖÿØŸâ ÿßŸÑÿ≠Ÿäÿßÿ© ‚ôªÔ∏è", p: 1.10},
      {id: 3810, cat: "TikTok", n: "TikTok Followers | HQ Real Profiles", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ≠ŸÇŸäŸÇŸäŸäŸÜ | ÿ≥ÿ±ÿπÿ© ŸÅÿßÿ¶ŸÇÿ© | ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 1.99},
      {id: 1973, cat: "TikTok", n: "TikTok Followers | HQ Real Premium", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ Premium VIP | ÿ∂ŸÖÿßŸÜ ŸÖÿØŸâ ÿßŸÑÿ≠Ÿäÿßÿ© ‚ôªÔ∏è", p: 2.50},
      {id: 3284, cat: "TikTok", n: "TikTok Followers | Organic 100%", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿπÿ∂ŸàŸä 100% | ÿ≠ŸÇŸäŸÇŸä | ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 3.00},
      {id: 3277, cat: "TikTok", n: "TikTok Followers | Organic VIP", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿπÿ∂ŸàŸä VIP | ÿ≥ÿ±Ÿäÿπ | ÿ∂ŸÖÿßŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ‚ôªÔ∏è", p: 3.80},
      {id: 3355, cat: "TikTok", n: "TikTok Followers | 100% USA üá∫üá∏ | Real & Non Drop | 365 Days Refill ‚ôªÔ∏è", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ | ÿ£ŸÖÿ±ŸäŸÉÿß üá∫üá∏ | ÿ≠ŸÇŸäŸÇŸä Ÿàÿ∂ŸÖÿßŸÜ ÿ≥ŸÜÿ© | ÿ≥ÿ±ÿπÿ© ÿÆÿßÿ±ŸÇÿ© ‚ôªÔ∏è", p: 4.80},
      {id: 8526, cat: "TikTok", n: "TikTok Followers | Real ADS Saudi", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ≠ŸÇŸäŸÇŸäŸäŸÜ ÿπÿ®ÿ± ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ | ÿßŸÑÿ≥ÿπŸàÿØŸäÿ© üá∏üá¶", p: 7.50},
      {id: 8812, cat: "TikTok", n: "TikTok Followers - Real Egypt (ADS)", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ - ÿ≠ŸÇŸäŸÇŸä ŸÖÿµÿ±Ÿä (ÿ•ÿπŸÑÿßŸÜÿßÿ™)", p: 7.50},
      {id: 8522, cat: "TikTok", n: "TikTok Followers | Lebanon üá±üáß | Real ADS - High Stability", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸäŸÉ ÿ™ŸàŸÉ | ŸÑÿ®ŸÜÿßŸÜŸä ÿ≠ŸÇŸäŸÇŸä üá±üáß | ÿπÿ®ÿ± ÿßŸÑÿ•ÿπŸÑÿßŸÜÿßÿ™ - ÿ´ÿ®ÿßÿ™ ÿπÿßŸÑŸç", p: 8.50},
      {id: 1521, cat: "TikTok", n: "TikTok Monetizable Followers", n_ar: "ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ±ÿ®ÿ≠ (Monetizable) |ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ∂ŸÖÿßŸÜ  ‚ôªÔ∏è", p: 5.50},
      {id: 1972, cat: "TikTok", n: "TikTok Likes | Non Drop", n_ar: "ÿ•ÿπÿ¨ÿßÿ®ÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ | ÿ´ÿßÿ®ÿ™ ŸÅŸàÿ±Ÿä ‚ö° ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 0.0368},
      {id: 3854, cat: "TikTok", n: "TikTok Likes | HQ Real Profiles", n_ar: "ÿ•ÿπÿ¨ÿßÿ®ÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ≠ŸÇŸäŸÇŸäÿ© HQ | ÿ≥ÿ±ÿπÿ© ŸÅÿßÿ¶ŸÇÿ© ‚ö° ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 0.0524},
      {id: 7572, cat: "TikTok", n: "TikTok Likes | HQ Premium", n_ar: "ÿ•ÿπÿ¨ÿßÿ®ÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ VIP ÿ≠ŸÇŸäŸÇŸäÿ© | ÿ´ÿßÿ®ÿ™ ‚ö° ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 0.0692},
      {id: 7500, cat: "TikTok", n: "TikTok Views | Instant", n_ar: "ŸÖÿ¥ÿßŸáÿØÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ŸÅŸàÿ±Ÿäÿ© ‚ö° ŸÖŸÑŸäŸàŸÜŸäÿ© (ÿ®ÿØŸàŸÜ ÿ∂ŸÖÿßŸÜ)", p: 0.0060},
      {id: 8387, cat: "TikTok", n: "TikTok Views | Real SuperInstant", n_ar: "ŸÖÿ¥ÿßŸáÿØÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ≠ŸÇŸäŸÇŸäÿ© | ÿ≥ÿ±ÿπÿ© ÿ¨ŸÜŸàŸÜŸäÿ© ‚ö°", p: 0.007},
      {id: 8332, cat: "TikTok", n: "TikTok Video Views | Fast", n_ar: "ŸÖÿ¥ÿßŸáÿØÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ŸÅŸäÿØŸäŸà | ŸÅŸàÿ±Ÿä ‚ö° ÿ∂ŸÖÿßŸÜ ŸÖÿØŸâ ÿßŸÑÿ≠Ÿäÿßÿ© ‚ôªÔ∏è", p: 0.0214},
      {id: 3490, cat: "TikTok", n: "Monetizable Views | Min 100K", n_ar: "ŸÖÿ¥ÿßŸáÿØÿßÿ™ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ±ÿ®ÿ≠ | ÿ´ÿßÿ®ÿ™ (100K+) ‚ôªÔ∏è", p: 0.0625},
      {id: 3506, cat: "TikTok", n: "Monetizable Views | Min 50K", n_ar: "ŸÖÿ¥ÿßŸáÿØÿßÿ™ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ±ÿ®ÿ≠ | ÿ´ÿßÿ®ÿ™ (50K+) ‚ôªÔ∏è", p: 0.0855},
      {id: 7635, cat: "TikTok", n: "Monetizable Views | Min 10K", n_ar: "ŸÖÿ¥ÿßŸáÿØÿßÿ™ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ±ÿ®ÿ≠ | ÿ´ÿßÿ®ÿ™ (10K+) ‚ôªÔ∏è", p: 0.0900},
      {id: 8119, cat: "TikTok", n: "TikTok Saves | Real", n_ar: "ÿ≠ŸÅÿ∏ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿßŸÑŸÅŸäÿØŸäŸà (Saves) | ÿ≠ŸÇŸäŸÇŸä ‚ö° ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 0.0090},
      {id: 6924, cat: "TikTok", n: "TikTok Saves | Fast", n_ar: "ÿ≠ŸÅÿ∏ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿßŸÑŸÅŸäÿØŸäŸà | ÿ≥ÿ±ÿπÿ© 500K ‚ö° ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 0.0320},
      {id: 1969, cat: "TikTok", n: "TikTok Shares | SuperFast", n_ar: "ŸÖÿ¥ÿßÿ±ŸÉÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿßŸÑŸÅŸäÿØŸäŸà (Shares) | ŸÅŸàÿ±Ÿä ‚ö° ÿ∂ŸÖÿßŸÜ ‚ôªÔ∏è", p: 0.0268},
      {id: 7720, cat: "TikTok", n: "TikTok Story Likes | Real", n_ar: "ÿ•ÿπÿ¨ÿßÿ®ÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ÿ≥ÿ™Ÿàÿ±Ÿä | ÿ≠ŸÇŸäŸÇŸä ‚ö° ÿ∂ŸÖÿßŸÜ 30 ŸäŸàŸÖ üî•", p: 0.3365},
      { id: 3342, cat: "TikTok", n: "üí¨ TikTok Commentaires - R√©el | ÿ™ÿπŸÑŸäŸÇÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ ŸÖÿÆÿµÿµÿ© - ÿ≠ŸÇŸäŸÇŸäÿ©", p: 2.26 },
      { id: 9313, cat: "TikTok", n: "üí¨ TikTok Commentaires - Garantie 30 Jours ‚ôªÔ∏è | ÿ™ÿπŸÑŸäŸÇÿßÿ™ ÿ™ŸäŸÉ ÿ™ŸàŸÉ - ÿ∂ŸÖÿßŸÜ 30 ŸäŸàŸÖ", p: 4.90 },

      // ... (ÿ®ÿßŸÇŸä ÿßŸÑÿÆÿØŸÖÿßÿ™ ŸÖŸÜ Facebook, Instagram, YouTube, Telegram, Snapchat, Premium, Gaming ŸÖŸàÿ¨ŸàÿØÿ© ŸÅŸä ÿßŸÑÿ±ÿ≥ÿßÿ¶ŸÑ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© - ÿ£ÿ∂ŸÅŸáÿß ÿ®ŸÜŸÅÿ≥ ÿßŸÑÿ™ŸÜÿ≥ŸäŸÇ ÿ•ÿ∞ÿß ÿ£ÿ±ÿØÿ™)
      // ŸÑŸÑÿßÿÆÿ™ÿµÿßÿ± ŸáŸÜÿßÿå ŸÑŸÉŸÜ ŸÅŸä ÿßŸÑŸÉŸàÿØ ÿßŸÑŸÅÿπŸÑŸä Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ŸÉŸÑŸáÿß ŸÖŸàÿ¨ŸàÿØÿ©
    ];

    let currentLang = 'ar';

    function setLanguage(lang) {
      currentLang = lang;
      document.body.className = lang;
      document.getElementById('btnAr').classList.toggle('active', lang === 'ar');
      document.getElementById('btnFr').classList.toggle('active', lang === 'fr');

      document.getElementById('linkInput').placeholder = lang === 'ar' ? "ÿßŸÑÿ±ÿßÿ®ÿ∑" : "Lien";
      document.querySelector('.btn-order').textContent = lang === 'ar' ? "ÿ™ŸÜŸÅŸäÿ∞ ÿßŸÑÿ∑ŸÑÿ®" : "COMMANDER";
      calculatePrice();
    }

    function setCategory(cat, element) {
      document.querySelectorAll('.cat-item').forEach(el => el.classList.remove('active'));
      element.classList.add('active');

      const select = document.getElementById('serviceSelect');
      select.innerHTML = currentLang === 'ar' 
        ? '<option value="">ÿßÿÆÿ™ÿ± ÿßŸÑÿÆÿØŸÖÿ©...</option>'
        : '<option value="">Choisir Service...</option>';

      SERVICES.filter(s => s.cat === cat).forEach(s => {
        const opt = document.createElement('option');
        opt.value = s.id;
        const priceText = s.type === 'fixed' ? `\[ {s.p.toFixed(2)}` : ` \]{s.p.toFixed(3)}`;
        opt.textContent = currentLang === 'ar' 
          ? `${s.n_ar || s.n} - ${priceText}`
          : `${s.n} - ${priceText}`;
        opt.dataset.price = s.p;
        opt.dataset.type = s.type || 'per1000';
        select.appendChild(opt);
      });

      document.getElementById('quantityInput').value = 1000;
      calculatePrice();
    }

    function calculatePrice() {
      const select = document.getElementById('serviceSelect');
      const opt = select.options[select.selectedIndex];
      
      if (!opt || !opt.value) {
        document.getElementById('totalDisplay').textContent = currentLang === 'ar' ? 'ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: $0.000' : 'Total: $0.000';
        return;
      }

      const service = SERVICES.find(s => s.id == opt.value);
      if (!service) return;

      const qty = parseFloat(document.getElementById('quantityInput').value) || 1000;
      let total = service.type === 'fixed' ? service.p : (service.p * qty) / 1000;
      const totalStr = total.toFixed(3);

      document.getElementById('totalDisplay').textContent = 
        currentLang === 'ar' ? `ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: \[ {totalStr}` : `Total: \]{totalStr}`;
    }

    function placeOrder() {
      const link = document.getElementById('linkInput').value.trim();
      if (!link) return alert(currentLang === 'ar' ? "ÿßŸÑÿ±ÿßÿ®ÿ∑ ŸÖÿ∑ŸÑŸàÿ®" : "Lien requis");

      const select = document.getElementById('serviceSelect');
      const service = SERVICES.find(s => s.id == select.value);
      if (!service) return alert(currentLang === 'ar' ? "ÿßÿÆÿ™ÿ± ÿÆÿØŸÖÿ©" : "Choisissez un service");

      const qty = parseFloat(document.getElementById('quantityInput').value) || 0;
      if (service.type !== 'fixed' && qty < 100) {
        return alert(currentLang === 'ar' ? "ÿßŸÑŸÉŸÖŸäÿ© Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ 100 ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ" : "Quantit√© minimum 100");
      }

      const total = document.getElementById('totalDisplay').textContent;

      const order = {
        id: Math.floor(10000 + Math.random() * 90000),
        service: currentLang === 'ar' ? (service.n_ar || service.n) : service.n,
        link,
        quantity: service.type === 'fixed' ? '‚Äî' : qty,
        total,
        status: "Pending",
        date: new Date().toLocaleString(currentLang === 'ar' ? 'ar-DZ' : 'fr-FR')
      };

      let orders = JSON.parse(localStorage.getItem('k13_orders') || '[]');
      orders.push(order);
      localStorage.setItem('k13_orders', JSON.stringify(orders));

      alert(currentLang === 'ar' ? `ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿ∑ŸÑÿ® #\( {order.id}` : `Commande # \){order.id} enregistr√©e`);
    }

    function openHistory() {
      const orders = JSON.parse(localStorage.getItem('k13_orders') || '[]');
      const cont = document.getElementById('historyContent');
      cont.innerHTML = orders.length === 0 
        ? (currentLang === 'ar' ? '<p style="text-align:center;color:#94a3b8;">ŸÑÿß ÿ∑ŸÑÿ®ÿßÿ™ ÿ®ÿπÿØ...</p>' : '<p style="text-align:center;color:#94a3b8;">Aucune commande...</p>')
        : '';

      orders.forEach(o => {
        const div = document.createElement('div');
        div.className = 'history-item';
        div.innerHTML = `
          <div>
            <strong>#${o.id}</strong> - ${o.service}<br>
            <small>${o.date}</small><br>
            Lien: ${o.link}<br>
            Quantit√©: ${o.quantity}<br>
            Total: ${o.total}
          </div>
          <a href="https://wa.me/213656251947?text=ÿ∑ŸÑÿ® ÿ±ŸÇŸÖ: ${o.id}%0AÿßŸÑÿÆÿØŸÖÿ©: ${o.service}%0AÿßŸÑÿ±ÿßÿ®ÿ∑: ${encodeURIComponent(o.link)}%0AÿßŸÑŸÉŸÖŸäÿ©: ${o.quantity}%0AÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: ${o.total}" target="_blank" class="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
          </a>
        `;
        cont.appendChild(div);
      });

      document.getElementById('historyModal').style.display = 'flex';
    }

    function closeModals() {
      document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
    }

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert(currentLang === 'ar' ? 'ÿ™ŸÖ ÿßŸÑŸÜÿ≥ÿÆ!' : 'Copi√© !');
      });
    }

    window.onload = () => {
      setCategory('TikTok', document.querySelector('.cat-item.active'));
    };
  </script>
</body>
</html>
