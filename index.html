<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KARIM-SMM13</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <style>
        /* Ø³ØªØ§ÙŠÙ„ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø£ØµÙ„ÙŠ */
        :root { --bg: #0b111b; --card: #161c26; --accent: #10b981; --gold: #f59e0b; --border: #2d3748; --text: #ffffff; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Tajawal', sans-serif; }
        body { background: var(--bg); color: var(--text); text-align: center; }
        
        .header { display: flex; justify-content: space-between; align-items: center; padding: 15px; background: rgba(11, 17, 27, 0.95); border-bottom: 1px solid var(--border); }
        .logo { font-weight: 900; font-size: 20px; }
        .logo span { color: var(--gold); }

        /* Ø²Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯ - ÙˆØ§Ø¶Ø­ Ø¬Ø¯Ø§Ù‹ */
        .admin-btn-top { background: var(--gold); color: black; border: none; padding: 8px 12px; border-radius: 8px; font-weight: bold; cursor: pointer; }

        .stats { display: flex; justify-content: space-around; margin: 15px; padding: 15px; background: rgba(255,255,255,0.02); border-radius: 20px; border: 1px solid var(--border); }
        .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; padding: 15px; }
        .box { background: var(--card); padding: 15px 5px; border-radius: 18px; border: 1px solid var(--border); cursor: pointer; }
        .box.active { border: 2px solid var(--gold); background: rgba(245,158,11,0.1); }

        .card { background: var(--card); margin: 0 15px 20px; padding: 25px; border-radius: 30px; border: 1px solid var(--border); }
        input, select { width: 100%; padding: 16px; margin-bottom: 15px; border-radius: 15px; border: 1px solid var(--border); background: var(--bg); color: white; text-align: center; }
        .price-tag { font-size: 30px; font-weight: 900; color: var(--accent); margin-bottom: 20px; display: block; }
        .btn-order { width: 100%; padding: 18px; border: none; border-radius: 18px; background: var(--accent); color: white; font-weight: 900; cursor: pointer; }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ØªÙŠ Ø·Ù„Ø¨ØªÙ‡Ø§ */
        #adminArea { display: none; padding: 20px; text-align: left; }
        .admin-card { background: var(--card); padding: 15px; border-radius: 15px; margin-bottom: 10px; border-left: 5px solid var(--gold); }
        .admin-ctrls { display: flex; gap: 10px; margin-top: 10px; }
        .btn-status { flex: 1; padding: 10px; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<div id="mainView">
    <div class="header">
        <div class="logo">KARIM<span>13</span> ğŸ¬</div>
        <button class="admin-btn-top" onclick="checkAdmin()">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
    </div>

    <div class="stats">
        <div><h2>184</h2><p>En ligne</p></div>
        <div><h2>2.9K</h2><p>Clients</p></div>
    </div>

    <div class="grid">
        <div class="box active"><i class="fab fa-tiktok" style="color:#ff0050"></i><p>TikTok</p></div>
        <div class="box"><i class="fab fa-facebook" style="color:#1877f2"></i><p>Facebook</p></div>
        <div class="box"><i class="fab fa-instagram" style="color:#e1306c"></i><p>Insta</p></div>
        <div class="box"><i class="fab fa-youtube" style="color:#ff0000"></i><p>YouTube</p></div>
    </div>

    <div class="card">
        <select id="srv"><option value="14">TikTok Coins - $14.00</option></select>
        <input type="text" id="link" placeholder="Lien / URL">
        <span class="price-tag">$14.00</span>
        <button class="btn-order" onclick="addOrder()">Commander Now ğŸ¬</button>
    </div>
</div>

<div id="adminArea">
    <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
        <h2 style="color:var(--gold)">ğŸ›  Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
        <button onclick="location.reload()" style="background:red; color:white; padding:5px 10px; border-radius:5px; border:none;">Ø®Ø±ÙˆØ¬</button>
    </div>
    <div id="adminOrdersList"></div>
</div>

<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ (Ù„Ø§ ØªÙ‚Ù… Ø¨ØªØºÙŠÙŠØ±Ù‡Ø§)
    const firebaseConfig = {
      apiKey: "AIzaSyBAGmBZN-aa6ywe3dPYFVABPMJQPzgZxP0",
      authDomain: "karim-smm.firebaseapp.com",
      projectId: "karim-smm",
      storageBucket: "karim-smm.firebasestorage.app",
      messagingSenderId: "968826000164",
      appId: "1:968826000164:web:aa41869e201784b85c59b1"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
    async function addOrder() {
        const link = document.getElementById('link').value;
        if(!link) return alert("Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø·Ù„ÙˆØ¨");
        await db.collection("orders").add({
            link: link, status: "Pending", date: new Date().toLocaleString()
        });
        alert("ØªÙ… Ø§Ù„Ø·Ù„Ø¨!");
    }

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© (Ø§Ù„Ø¨Ø§Ø³ÙˆÙˆØ±Ø¯ 1313)
    function checkAdmin() {
        const p = prompt("ÙƒÙ„Ù…Ø© Ø³Ø± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©ØŸ");
        if(p === "1313") {
            document.getElementById('mainView').style.display = 'none';
            document.getElementById('adminArea').style.display = 'block';
            loadAdminData();
        }
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù„Ùƒ Ù„ÙƒÙŠ ØªØ¹Ø¯Ù„Ù‡Ø§
    function loadAdminData() {
        db.collection("orders").orderBy("date", "desc").onSnapshot(snap => {
            let html = "";
            snap.forEach(doc => {
                const d = doc.data();
                html += `
                <div class="admin-card">
                    <b>Ø§Ù„Ø­Ø§Ù„Ø©: ${d.status}</b><br>
                    <small>${d.date}</small><br>
                    <p style="color:var(--accent)">Link: ${d.link}</p>
                    <div class="admin-ctrls">
                        <button class="btn-status" style="background:var(--accent); color:white" onclick="updateS('${doc.id}', 'Completed')">Ù…ÙƒØªÙ…Ù„ âœ…</button>
                        <button class="btn-status" style="background:red; color:white" onclick="delO('${doc.id}')">Ø­Ø°Ù ğŸ—‘ï¸</button>
                    </div>
                </div>`;
            });
            document.getElementById('adminOrdersList').innerHTML = html;
        });
    }

    function updateS(id, s) { db.collection("orders").doc(id).update({status: s}); }
    function delO(id) { if(confirm("Ø­Ø°ÙØŸ")) db.collection("orders").doc(id).delete(); }
</script>
</body>
</html>
